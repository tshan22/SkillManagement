<template>
	<lightning-card>
		<div>
			<p>従業員情報</p>
			<lightning-datatable key-field="id" data={data} columns={columns}>
			</lightning-datatable>
		</div>

		<!-- <div class="return-button">
			<lightning-button
				onclick={openModal}
				variant="brand"
				value="returned"
				label="チェック図書貸出"></lightning-button>
		</div> -->
		
		<template if:true={isModalOpen}>
			<section
				role="dialog"
				tabindex="-1"
				aria-labelledby="modal-heading-01"
				aria-modal="true"
				aria-describedby="modal-content-id-1"
				class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<header class="slds-modal__header">
						<h2
							id="modal-heading-01"
							class="slds-text-heading_medium slds-hyphenate">
							図書貸出
						</h2>
					</header>
					<div
						class="slds-modal__content slds-p-around_medium"
						id="modal-content-id-1">
						<template if:true={lendingList}>
							<template for:each={lendingList} for:item="lendingList">
								<p class="lending-item1" key={lendingList.Id}>
									図書名：{lendingList.BookName__c}
								</p>
								<p class="lending-item" key={lendingList.Id}>
									著者名：{lendingList.Author__c}
								</p>
								<p class="lending-item" key={lendingList.Id}>
									出版社：{lendingList.Publisher__c}
								</p>
								<p class="lending-item4" key={lendingList.Id}>
									発売日：{lendingList.ReleaseDate__c}
								</p>
							</template>
						</template>
					</div>
					<footer class="slds-modal__footer">
						<button
							class="slds-button slds-button_neutral"
							onclick={closeModal}
							title="Cancel">
							取り消し
						</button>

						<lightning-button
							disabled={disableButton}
							label="貸出"
							onclick={submitDetails}
							title="OK"
							variant="brand">
						</lightning-button>
					</footer>
				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</template>

		<template if:true={isNonLoanList}>
			<section
				role="dialog"
				tabindex="-1"
				aria-labelledby="modal-heading-02"
				aria-modal="true"
				aria-describedby="modal-content-id-2"
				class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<header class="slds-modal__header">
						<h2
							id="modal-heading-02"
							class="slds-text-heading_medium slds-hyphenate">
							図書が貸し出されたため貸出ができません
						</h2>
					</header>
					<div
						class="slds-modal__content slds-p-around_medium"
						id="modal-content-id-2">
						<template if:true={exclusionLendingList}>
							<template
								for:each={exclusionLendingList}
								for:item="exclusionLendingList">
								<p class="lending-item1" key={exclusionLendingList.Id}>
									図書名：{exclusionLendingList.BookName__c}
								</p>
								<p class="lending-item" key={exclusionLendingList.Id}>
									著者名：{exclusionLendingList.Author__c}
								</p>
								<p class="lending-item" key={exclusionLendingList.Id}>
									出版社：{exclusionLendingList.Publisher__c}
								</p>
								<p class="lending-item4" key={exclusionLendingList.Id}>
									発売日：{exclusionLendingList.ReleaseDate__c}
								</p>
							</template>
						</template>
					</div>
					<footer class="slds-modal__footer">
						<button
							class="slds-button slds-button_brand"
							onclick={closeModal}
							title="OK">
							閉じる
						</button>
					</footer>
				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</template>
	</lightning-card>
</template>
